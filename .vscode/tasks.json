{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Modrinth: Add addon",
            "type": "shell",
            "command": [
                "deno", "--allow-env", "--allow-read", "--allow-write", "--allow-sys", "--allow-run",
                "${workspaceFolder}/scripts/install.ts",
                "modrinth", "${input:category}", "${input:modspec}"
            ],
            "icon": {
                "id": "cloud-download",
                "color": "terminal.ansiGreen"
            }
        },
        {
            "label": "CurseForge: Add addon",
            "type": "shell",
            "command": [
                "deno", "--allow-env", "--allow-read", "--allow-write", "--allow-sys", "--allow-run",
                "${workspaceFolder}/scripts/install.ts",
                "curseforge", "${input:category}", "${input:modspec}"
            ],
            "icon": {
                "id": "cloud-download",
                "color": "terminal.ansiYellow"
            }
        },
        {
            "label": "Packwiz: Refresh",
            "type": "shell",
            "command": ["packwiz", "refresh"],
            "icon": {
                "id": "refresh",
                "color": "terminal.ansiMagenta"
            },
            "dependsOn": ["scripts.update"],
            "dependsOrder": "sequence"
        },
        {
            "label": "Packwiz: Update",
            "type": "shell",
            "command": ["packwiz", "update", "--all"],
            "icon": {
                "id": "repo-pull",
                "color": "terminal.ansiMagenta"
            },
            "dependsOn": ["packwiz.update", "scripts.update"],
            "dependsOrder": "sequence"
        },
        {
            "label": "Packwiz: Serve",
            "type": "shell",
            "command": ["packwiz", "serve", "-p", "8000"],
            "icon": {
                "id": "flame",
                "color": "terminal.ansiMagenta"
            },
            "dependsOn": ["packwiz.update", "scripts.update"],
            "dependsOrder": "sequence"
        },
        {
            "label": "scripts.update",
            "type": "shell",
            "command": [
                "deno", "--allow-env", "--allow-read", "--allow-write", "--allow-sys", "--allow-run",
                "${workspaceFolder}/scripts/update.ts"
            ],
            "hide": true
        },
        {
            "label": "packwiz.update",
            "type": "shell",
            "command": ["packwiz", "-y", "update", "--all"],
            "hide": true
        },
    ],
    "inputs": [
        {
            "id": "modspec",
            "type": "promptString",
            "description": "Mod source (ID, URL, Slug...)"
        },
        {
            "id": "category",
            "type": "pickString",
            "description": "The category to add to",
            "options": [
                "create",
                "equipment",
                "essentials",
                "interface",
                "library",
                "mechanics",
                "misc",
                "mobs",
                "performance",
                "structures",
                "utilities",
                "world"
            ]
        }
    ]
}
